(function(){var E={lib:{},cmp:{},view:{}},L=Array.prototype.slice,G=function(k){return!(!k||k.constructor!==Object)},u=function(k){return"undefined"==typeof k},M=function a(){var b=!1,c=!1,d=L.call(arguments),e=d.shift(),k,h,r;"boolean"==typeof d[d.length-1]&&(b=d.pop());"boolean"==typeof d[d.length-1]&&(c=b,b=d.pop());for(;d.length;)if(k=d.shift())for(h in k)if(k.hasOwnProperty(h)&&!u(r=k[h]))if(c)if(e[h]&&G(e[h])&&G(r))a(e[h],r,b,c);else{if(!0===b||u(e[h])||null===e[h])G(r)?(e[h]={},a(e[h],r,b,
!0)):e[h]=r}else if(!0===b||u(e[h])||null===e[h])e[h]=r;return e},k=Function.prototype.bind?function(a,b){return a.bind(b)}:function(a,b){return function(){return a.apply(b,arguments)}},l=function(a){return"string"==typeof a},W=function(){return String.prototype.trim?function(a){return l(a)?a.trim():a}:function(a){return l(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}(),ba=function(a,b,c){setTimeout(function(){a.apply(b,c||[])},0)},O=function(){},ca=function(){return u(JSON)?function(a){return JSON.parse(a)}:
function(a){return(new Function("return "+a))()}}(),X=function(a,b){var c,d;if(!a||!l(a))return null;try{d=new DOMParser,c=d.parseFromString(a,b||"text/xml")}catch(e){c=void 0}if(!c||c.getElementsByTagName("parsererror").length)throw"Invalid XML: "+a;return c},Q=function(a){if(!a||u(a.length)||l(a))return a?[a]:[];for(var b=[],c=-1,d=a.length>>>0;++c!==d;b[c]=a[c]);return b},Z=function(){var a=/^[\w[:#.][\w\]*^|=!]*$/,b=/=([^\]]+)/,c=/ *, */,d=/(\([^)]*)\+/,e=/(\[[^\]]+)~/,k=/(~|>|\+)/,h=/ +/,r=/([^[:.#]+)?(?:#([^[:.#]+))?(?:\.([^[:.]+))?(?:\[([^!&^*|$[:=]+)([!$^*|&]?=)?([^:\]]+)?\])?(?::([^(]+)(?:\(([^)]+)\))?)?/,
da=/(?:(-?\d*)n)?(?:(%|-)(\d*))?/,ea=/\D/,fa=/[^(]*\(([^)]*)\)/,A=/\(.*/,S=/\[([^!~^*|$ [:=]+)([$^*|]?=)?([^ :\]]+)?\]/,F=document,u=!!F.getElementsByClassName,T=!!F.querySelectorAll,B={"first-child":function(g){return g.parentNode.getElementsByTagName("*")[0]!==g},"last-child":function(g){for(;(g=g.nextSibling)&&1!=g.nodeType;);return!!g},root:function(g){return"html"!==g.nodeName.toLowerCase()},"nth-child":function(g,a){var f=g.nodeIndex||0,b=a[3]=a[3]?("%"===a[2]?-1:1)*a[3]:0,r=a[1];if(f)return!((f+
b)%r);var c=g.parentNode.firstChild;f++;do if(1==c.nodeType&&(c.nodeIndex=++f)&&g===c&&(f+b)%r)return 0;while(c=c.nextSibling);return 1},"nth-last-child":function(g,a){var f=g.nodeIndexLast||0,b=a[3]?("%"===a[2]?-1:1)*a[3]:0,r=a[1];if(f)return!((f+b)%r);var c=g.parentNode.lastChild;f++;do if(1==c.nodeType&&(c.nodeLastIndex=f++)&&g===c&&(f+b)%r)return 0;while(c=c.previousSibling);return 1},empty:function(g){return!!g.firstChild},parent:function(g){return!g.firstChild},"only-child":function(g){return 1!=
g.parentNode.getElementsByTagName("*").length},checked:function(g){return!g.checked},lang:function(g,a){return g.lang!==a&&F.documentElement.lang!==a},enabled:function(g){return g.disabled||"hidden"===g.type},disabled:function(g){return!g.disabled},selected:function(g){return!g.selected}},n={},s=function(g){return n[g]||(n[g]=new RegExp("(^| +)"+g+"($| +)"))},x={"":function(g,a){return!!g.getAttribute(a)},"=":function(g,a,f){return(a=g.getAttribute(a))&&a===f},"&=":function(g,a,f){return(a=g.getAttribute(a))&&
s(f).test(a)},"^=":function(g,a,f){return(a=g.getAttribute(a)+"")&&!a.indexOf(f)},"$=":function(g,a,f){return(a=g.getAttribute(a)+"")&&a.indexOf(f)==a.length-f.length},"*=":function(g,a,f){return(a=g.getAttribute(a)+"")&&-1!=a.indexOf(f)},"|=":function(g,a,f){return(a=g.getAttribute(a)+"")&&(a===f||!!a.indexOf(f+"-"))},"!=":function(g,a,f){return!(a=g.getAttribute(a))||!s(f).test(a)}},l=function(g,w){w=w||F;var f=[],t=null,v,n,s,m,l,y,z;if(T)try{f=Q(w.querySelectorAll(g.replace(b,'="$1"')))}catch(N){t=
!0}if(!T||t)if(a.test(g))switch(t=0,g.charAt(0)){case "#":t=g.slice(1);f=F.getElementById(t);f.id!==t&&(f=F.all[t]);f=f?[f]:[];break;case ".":v=g.slice(1);if(u)f=Q((f=w.getElementsByClassName(v)).length?f:[]);else{v=" "+v+" ";n=w.getElementsByTagName("*");for(s=0;m=n[s++];)-1!=(" "+m.className+" ").indexOf(v)&&(f[t++]=m);f=t?f:[]}break;case ":":n=w.getElementsByTagName("*");s=0;l=g.replace(fa,"$1");for(y=g.replace(A,"");m=n[s++];)B[y]&&!B[y](m,l)&&(f[t++]=m);f=t?f:[];break;case "[":n=w.getElementsByTagName("*");
s=0;m=S.exec(g);v=m[1];z=m[2]||"";for(l=m[3];m=n[s++];)x[z]&&(x[z](m,v,l)||"class"===v&&x[z](m,"className",l))&&(f[t++]=m);f=t?f:[];break;default:f=Q((f=w.getElementsByTagName(g)).length?f:[])}else{for(var D=g.split(c),C=D.length-1,L=!!C,E,G,q,M,H,I,J,K,O,p,R,U;t=D[C--];){G=(E=t.replace(d,"$1%").replace(e,"$1&").replace(k," $1 ").split(h)).length;s=0;M=" ";for(n=[w];q=E[s++];)if(" "!==q&&">"!==q&&"~"!==q&&"+"!==q&&n){q=q.match(r);H=q[1]||"*";I=q[2];J=q[3]?" "+q[3]+" ":"";v=q[4];z=q[5]||"";y=q[7];
l="nth-child"===y||"nth-last-child"===y?da.exec("even"===q[8]&&"2n"||"odd"===q[8]&&"2n%1"||!ea.test(q[8])&&"0n%"+q[8]||q[8]):q[8];K=[];t=O=0;for(R=s==G;p=n[O++];)switch(M){case " ":U=p.getElementsByTagName(H);for(p=0;m=U[p++];)I&&m.id!==I||J&&-1==(" "+m.className+" ").indexOf(J)||!(!v||x[z]&&(x[z](m,v,q[6])||"class"===v&&x[z](m,"className",q[6])))||m.yeasss||(B[y]?B[y](m,l):y)||(R&&(m.yeasss=1),K[t++]=m);break;case "~":for(H=H.toLowerCase();(p=p.nextSibling)&&!p.yeasss;)1!=p.nodeType||"*"!==H&&p.nodeName.toLowerCase()!==
H||I&&p.id!==I||J&&-1==(" "+p.className+" ").indexOf(J)||!(!v||x[z]&&(x[z](m,v,q[6])||"class"===v&&x[z](m,"className",q[6])))||p.yeasss||(B[y]?B[y](p,l):y)||(R&&(p.yeasss=1),K[t++]=p);break;case "+":for(;(p=p.nextSibling)&&1!=p.nodeType;);!p||p.nodeName.toLowerCase()!==H.toLowerCase()&&"*"!==H||I&&p.id!==I||J&&-1==(" "+m.className+" ").indexOf(J)||!(!v||x[z]&&(x[z](m,v,q[6])||"class"===v&&x[z](m,"className",q[6])))||p.yeasss||(B[y]?B[y](p,l):y)||(R&&(p.yeasss=1),K[t++]=p);break;case ">":for(U=p.getElementsByTagName(H),
s=0;m=U[s++];)m.parentNode!==p||I&&m.id!==I||J&&-1==(" "+m.className+" ").indexOf(J)||!(!v||x[z]&&(x[z](m,v,q[6])||"class"===v&&x[z](m,"className",q[6])))||m.yeasss||(B[y]?B[y](m,l):y)||(R&&(m.yeasss=1),K[t++]=m)}n=K}else M=q;if(L){if(!n.concat){K=[];for(p=0;m=n[p];)K[p++]=m;n=K}f=n.concat(1==f.length?f[0]:f)}else f=n}for(t=f.length;t--;)f[t].yeasss=f[t].nodeIndex=f[t].nodeIndexLast=null}return f};l.is=function(g,a){var f=l(a,g.parentNode),b,r;b=-1;for(r=f.length;++b<r;)if(f[b]===g)return!0;return!1};
return l}(),ga=Object.prototype.toString,C=function(a){return null!=a&&"object"===typeof a},$=function(a){var b;if(b=a&&C(a))b=a.length,b="number"==typeof b&&!isNaN(b);return!(!b||"[object Array]"!=ga.call(a))},N=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},ha=function(){var a=["0","0","0"];return function(){for(var b=a.length,c;b;){b--;c=a[b].charCodeAt(0);if(57==c)return a[b]="A",a.join("");if(90==c)a[b]="0";else return a[b]=String.fromCharCode(c+1),a.join("")}a.unshift("0");
return a.join("")}}(),s=function(a){return"function"===typeof a},aa=function(){this.events={}};aa.prototype={createEvent:function(a,b){a=a.toLowerCase();var c=this.events;c[a]||(c[a]=new P(a,b));return c[a]},getEvent:function(a){a=a.toLowerCase();return this.events[a]},on:function(a,b,c,d){a=a.toLowerCase();var e=this.events;e[a]||(e[a]=new P(a));return e[a].on(b,c,d)},once:function(a,b,c,d){d=d||{};d.limit=1;return this.on(a,b,c,d)},un:function(a,b,c){a=a.toLowerCase();var d=this.events;d[a]&&d[a].un(b,
c)},hasListener:function(a,b,c){a=a.toLowerCase();var d=this.events;return d[a]?d[a].hasListener(b,c):!1},removeAllListeners:function(a){var b=this.events;b[a]&&b[a].removeAllListeners()},trigger:function(){var a=arguments[0],b=this.events,a=a.toLowerCase();if(!b[a])return null;a=b[a];return a.trigger.apply(a,L.call(arguments,1))},suspendEvent:function(a){a=a.toLowerCase();var b=this.events;b[a]&&b[a].suspend()},suspendAllEvents:function(){var a=this.events,b;for(b in a)a[b].suspend()},resumeEvent:function(a){a=
a.toLowerCase();var b=this.events;b[a]&&b[a].resume()},resumeAllEvents:function(){var a=this.events,b;for(b in a)a[b].resume()},destroyEvent:function(a){var b=this.events;b[a]&&(b[a].removeAllListeners(),b[a].destroy(),delete b[a])},destroy:function(a){var b=this.events;if(a)a=a.toLowerCase(),b[a]&&(b[a].destroy(),delete b[a]);else{for(var c in b)b[c].destroy();this.events={}}},getApi:function(){if(!this.api){for(var a="createEvent getEvent on un once hasListener removeAllListeners trigger suspendEvent suspendAllEvents resumeEvent resumeAllEvents destroyEvent".split(" "),
b={},c,d=-1,e=a.length;++d<e;c=a[d],b[c]=k(this[c],this));this.api=b}return this.api}};var P=function(a,b){this.name=a;this.listeners=[];this.map={};this.hash=ha();this.uni="$$"+a+"_"+this.hash;this.suspended=!1;this.lid=0;this.returnResult=u(b)?null:b};P.prototype={getName:function(){return this.name},destroy:function(){this.map=this.listeners=null},on:function(a,b,c){if(!a)return null;b=b||null;c=c||{};var d=this.uni,e=b||a;if(e[d]&&!c.allowDupes)return null;var k=++this.lid,h=c.first||!1;e[d]=
k;a={fn:a,scope:b,uniScope:e,id:k,called:0,limit:c.limit||0,start:c.start||1,count:0,append:c.append,prepend:c.prepend};h?this.listeners.unshift(a):this.listeners.push(a);this.map[k]=a;return k},once:function(a,b,c){c=c||{};c.once=!0;return this.on(a,b,c)},un:function(a,b){var c=-1,d=this.uni,e=this.listeners,k;k=a==parseInt(a)?a:(b||a)[d];if(!k)return!1;for(var h=0,r=e.length;h<r;h++)if(e[h].id==k){c=h;delete e[h].uniScope[d];break}if(-1==c)return!1;e.splice(c,1);delete this.map[k];return!0},hasListener:function(a,
b){var c=this.listeners,d;if(a){b=b||a;d=s(a)?b[this.uni]:a;if(!d)return!1;for(var e=0,k=c.length;e<k;e++)if(c[e].id==d)return!0;return!1}return 0<c.length},removeAllListeners:function(){var a=this.listeners,b=this.uni,c,d;c=0;for(d=a.length;c<d;c++)delete a[c].uniScope[b];this.listeners=[];this.map={}},suspend:function(){this.suspended=!0},resume:function(){this.suspended=!1},_prepareArgs:function(a,b){var c;a.append||a.prepend?(c=L.call(b),a.prepend&&(c=a.prepend.concat(c)),a.append&&(c=c.concat(a.append))):
c=b;return c},trigger:function(){var a=this.listeners,b=this.returnResult;if(this.suspended||0==a.length)return null;for(var c="all"==b?[]:null,d,e,a="first"==b?[a[0]]:L.call(a);d=a.shift();)if(d&&this.map[d.id]&&(d.count++,!(d.count<d.start))){e=d.fn.apply(d.scope,this._prepareArgs(d,arguments));d.called++;d.called==d.limit&&this.un(d.id);"all"==b&&c.push(e);if("first"==b)return e;"last"==b&&(c=e);if(!1==b&&!1===e)break}if(b)return c}};var D=function(a){var b;return a&&(C(a)||s(a))?s(b=a.then)?b:
!1:!1},V=function(){var a=[],b=!1,c="undefined"!=typeof process?process.nextTick:function(a){setTimeout(a,0)},d=function(){b=!0;var r=a.shift();c(function(){r[0].apply(r[1],r[2]);a.length?d():b=!1},0)},e=function(r,c,h){h=h||[];a.push([r,c,h]);b||d()},l=function(a,b){return function(c){try{b.resolve(a(c))}catch(d){b.reject(d)}}},h=function(a,b){if(a instanceof h)return a;if(!(this instanceof h))return new h(a,b);this._fulfills=[];this._rejects=[];this._dones=[];this._fails=[];if(!u(a))if(D(a)||!s(a))this.resolve(a);
else try{a.call(b,k(this.resolve,this),k(this.reject,this))}catch(c){this.reject(c)}};h.prototype={_state:0,_fulfills:null,_rejects:null,_dones:null,_fails:null,_wait:0,_value:null,_reason:null,_triggered:!1,isPending:function(){return 0==this._state},isFulfilled:function(){return 1==this._state},isRejected:function(){return 2==this._state},_cleanup:function(){delete this._fulfills;delete this._rejects;delete this._dones;delete this._fails},_processValue:function(a,b){var c;if(0==this._state)if(a===
this)this._doReject(new TypeError("cannot resolve promise with itself"));else{try{if(c=D(a)){a instanceof h?a.then(k(this._processResolveValue,this),k(this._processRejectReason,this)):(new h(c,a)).then(k(this._processResolveValue,this),k(this._processRejectReason,this));return}}catch(d){0==this._state&&this._doReject(d);return}b.call(this,a)}},_callResolveHandlers:function(){this._done();for(var a=this._fulfills,b;b=a.shift();)e(b[0],b[1],[this._value]);this._cleanup()},_doResolve:function(a){this._value=
a;this._state=1;0==this._wait&&this._callResolveHandlers()},_processResolveValue:function(a){this._processValue(a,this._doResolve)},resolve:function(a){if(this._triggered)return this;this._triggered=!0;this._processResolveValue(a);return this},_callRejectHandlers:function(){this._fail();for(var a=this._rejects,b;b=a.shift();)e(b[0],b[1],[this._reason]);this._cleanup()},_doReject:function(a){this._state=2;this._reason=a;0==this._wait&&this._callRejectHandlers()},_processRejectReason:function(a){this._processValue(a,
this._doReject)},reject:function(a){if(this._triggered)return this;this._triggered=!0;this._processRejectReason(a);return this},then:function(a,b){var c=new h,d=this._state;0==d||0!=this._wait?(a&&s(a)?this._fulfills.push([l(a,c),null]):this._fulfills.push([c.resolve,c]),b&&s(b)?this._rejects.push([l(b,c),null]):this._rejects.push([c.reject,c])):1==d?a&&s(a)?e(l(a,c),null,[this._value]):c.resolve(this._value):2==d&&(b&&s(b)?e(l(b,c),null,[this._reason]):c.reject(this._reason));return c},"catch":function(a){return this.then(null,
a)},_done:function(){for(var a=this._dones,b;b=a.shift();)b[0].call(b[1]||null,this._value)},done:function(a,b){var c=this._state;1==c&&0==this._wait?a.call(b||null,this._value):0==c&&this._dones.push([a,b]);return this},_fail:function(){for(var a=this._fails,b;b=a.shift();)b[0].call(b[1]||null,this._reason)},fail:function(a,b){var c=this._state;2==c&&0==this._wait?a.call(b||null,this._reason):0==c&&this._fails.push([a,b]);return this},always:function(a,b){this.done(a,b);this.fail(a,b);return this},
promise:function(){return{then:k(this.then,this),done:k(this.done,this),fail:k(this.fail,this),always:k(this.always,this)}},after:function(a){var b=this;if(D(a)){b._wait++;var c=function(){b._wait--;0==b._wait&&0!=b._state&&(1==b._state?b._callResolveHandlers():b._callRejectHandlers())};s(a.done)?a.done(c):a.then(c)}return b}};h.resolve=function(a){return new h(a)};h.reject=function(a){var b=new h;b.reject(a);return b};h.all=function(a){if(!a.length)return h.resolve(null);var b=new h,c=a.length,d=
Array(c),e=c,k,l,u=function(a,c){d[c]=a;e--;0==e&&b.resolve(d)};for(k=0;k<c;k++)(function(c){l=a[k];l instanceof h?l.done(function(a){u(a,c)}).fail(b.reject,b):D(l)||s(l)?(new h(l)).done(function(a){u(a,c)}).fail(b.reject,b):u(l,c)})(k);return b};h.when=function(){return h.all(arguments)};h.allResolved=function(a){if(!a.length)return h.resolve(null);var b=new h,c=a.length,d=[],k=c,e,l,u=function(a){d.push(a);C()},C=function(){k--;0==k&&b.resolve(d)};for(e=0;e<c;e++)l=a[e],l instanceof h?l.done(u).fail(C):
D(l)||s(l)?(new h(l)).done(u).fail(C):u(l);return b};h.race=function(a){if(!a.length)return h.resolve(null);var b=new h,c=a.length,d,e;for(d=0;d<c&&(e=a[d],e instanceof h?e.done(b.resolve,b).fail(b.reject,b):D(e)||s(e)?(new h(e)).done(b.resolve,b).fail(b.reject,b):b.resolve(e),b.isPending());d++);return b};return h}(),ia=function(){var a=/#.*$/,b=/([?&])_=[^&]*/,c=/\?/,d=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,e=/^(?:GET|HEAD)$/i,D=0,h=function(a,b,f){var c,d;if(l(a)&&f)b.push(encodeURIComponent(f)+
"="+encodeURIComponent(a));else if($(a)&&f)for(c=0,d=a.length;c<d;c++)h(a[c],b,f+"["+c+"]");else if(C(a))for(c in a)a.hasOwnProperty(c)&&h(a[c],b,f?f+"["+c+"]":c)},r=function(g,w){g.replace(a,"");if(!1===w.cache){var f=(new Date).getTime();return b.test(g)?g.replace(b,"$1_="+f):g+(c.test(g)?"&":"?")+"_="+f}!w.data||window.FormData&&w.data instanceof window.FormData||(l(w.data)?f=w.data:(f=[],h(w.data,f,null),f=f.join("&").replace(/%20/g,"+")),w.data=f,e.test(w.method)&&(g+=(c.test(g)?"&":"?")+w.data,
w.data=null));return g},E={xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},L={url:null,data:null,method:"GET",headers:null,username:null,password:null,cache:null,dataType:null,timeout:0,contentType:"application/x-www-form-urlencoded",xhrFields:null,jsonp:!1,jsonpParam:null,jsonpCallback:null,transport:null,replace:!1,selector:null,form:null,beforeSend:null,progress:null,uploadProgress:null,
processResponse:null,callbackScope:null},G={},A=new aa,S=function(a){var b;b=eval;a&&(/^[^\S]*use strict/.test(a)?(b=document.createElement("script"),b.text=a,document.head.appendChild(b).parentNode.removeChild(b)):b(a))},F=function(a,b,c){var d,e;if(!C(a)&&!s(a)&&c)d=document.createElement("input"),d.setAttribute("type","hidden"),d.setAttribute("name",c),d.setAttribute("value",a),b.appendChild(d);else if($(a)&&c)for(d=0,e=a.length;d<e;d++)F(a[d],b,c+"["+d+"]");else if(C(a))for(d in a)a.hasOwnProperty(d)&&
F(a[d],b,c?c+"["+d+"]":d)},Q=function(a){for(var b,c,d="",e=0;e<a.elements.length;e++)if(b=a.elements[e],b.hasAttribute("name"))if(c="INPUT"===b.nodeName.toUpperCase()?b.getAttribute("type").toUpperCase():"TEXT","FILE"===c)for(c=0;c<b.files.length;d+="&"+encodeURIComponent(b.name)+"="+encodeURIComponent(b.files[c++].name));else if("RADIO"!==c&&"CHECKBOX"!==c||b.checked)d+="&"+encodeURIComponent(b.name)+"="+encodeURIComponent(b.value);return d},T=function(a,b,c){var d=b?b.dataType:null;b=b?b.selector:
null;if(!l(a))return a;c=c||"";if("xml"===d||!d&&0<=c.indexOf("xml"))return a=X(W(a)),b?Z(b,a):a;if("html"===d)return a=X(a,"text/html"),b?Z(b,a):a;if("fragment"==d){c=document.createDocumentFragment();d=document.createElement("div");for(d.innerHTML=a;d.firstChild;)c.appendChild(d.firstChild);return c}if("json"===d||!d&&0<=c.indexOf("json"))return ca(W(a));("script"===d||!d&&0<=c.indexOf("javascript"))&&S(a);return a+""},B=function(a){var b=u(window)?"":window.location.href,b=d.exec(b.toLowerCase())||
[],c=d.exec(a.url.toLowerCase());this._opt=a;a.crossDomain=!(!c||c[1]===b[1]&&c[2]===b[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(b[3]||("http:"===b[1]?"80":"443")));b=new V;"iframe"!=a.transport||a.form?a.form&&(this._form=a.form,"POST"!=a.method||!u(window)&&window.FormData||"iframe"==a.transport||(a.transport="iframe")):(this.createForm(),a.form=this._form);a.form&&"iframe"!=a.transport&&(a.data="POST"==a.method?new FormData(a.form):Q(a.form));a.url=r(a.url,a);c=!a.crossDomain&&"script"!=a.transport||
a.form?"iframe"==a.transport?new Y(a,b,this):new P(a,b,this):new x(a,b,this);this._deferred=b;this._transport=c;b.done(function(a){A.trigger("success",a)});b.fail(function(a){A.trigger("error",a)});b.always(function(){A.trigger("end")});A.trigger("start");a.timeout&&(this._timeout=setTimeout(k(this.onTimeout,this),a.timeout));a.jsonp&&this.createJsonp();!1===A.trigger("beforeSend",a,c)&&(this._promise=V.reject());a.beforeSend&&!1===a.beforeSend.call(a.callbackScope,a,c)&&(this._promise=V.reject());
this._promise||(ba(c.send,c),b.abort=k(this.abort,this),b.always(this.destroy,this),this._promise=b)};B.prototype={_jsonpName:null,_transport:null,_opt:null,_deferred:null,_promise:null,_timeout:null,_form:null,_removeForm:!1,promise:function(){return this._promise},abort:function(a){this._transport.abort();this._deferred.reject(a||"abort")},onTimeout:function(){this.abort("timeout")},createForm:function(){var a=document.createElement("form");a.style.display="none";a.setAttribute("method",this._opt.method);
F(this._opt.data,a,null);document.body.appendChild(a);this._form=a;this._removeForm=!0},createJsonp:function(){var a=this._opt,b=a.jsonpParam||"callback",d=a.jsonpCallback||"jsonp_"+ ++D;a.url+=(c.test(a.url)?"&":"?")+b+"="+d;this._jsonpName=d;u(window)||(window[d]=k(this.jsonpCallback,this));u(global)||(global[d]=k(this.jsonpCallback,this));return d},jsonpCallback:function(a){try{this._deferred.resolve(this.processResponseData(a))}catch(b){this._deferred.reject(b)}},processResponseData:function(a,
b){var c=this._opt;a=T(a,c,b);A.hasListener("processResponse")&&(a=A.trigger("processResponse",a,this._deferred));c.processResponse&&(a=c.processResponse.call(c.callbackScope,a,this._deferred));return a},processResponse:function(a,b){var c=this._deferred;if(this._opt.jsonp)if(a){try{S(a)}catch(d){c.reject(d)}c.isPending()&&c.reject("jsonp script didn't invoke callback")}else c.reject("jsonp script is empty");else try{c.resolve(this.processResponseData(a,b))}catch(e){c.reject(e)}},destroy:function(){this._timeout&&
clearTimeout(this._timeout);this._form&&this._form.parentNode&&this._removeForm&&this._form.parentNode.removeChild(this._form);this._transport.destroy();delete this._transport;delete this._opt;delete this._deferred;delete this._promise;delete this._timeout;delete this._form;this._jsonpName&&(u(window)||delete window[this._jsonpName],u(global)||delete global[this._jsonpName])}};var n=function(a,b){b=b||{};a&&!l(a)?b=a:b.url=a;if(!b.url&&(b.form&&(b.url=b.form.getAttribute("action")),!b.url))throw"Must provide url";
M(b,G,!1,!0);M(b,L,!1,!0);b.method=b.method?b.method.toUpperCase():b.form?b.form.getAttribute("method").toUpperCase()||"GET":"GET";return(new B(b)).promise()};n.setup=function(a){M(G,a,!0,!0)};n.on=function(){A.on.apply(A,arguments)};n.un=function(){A.un.apply(A,arguments)};n.get=function(a,b){b=b||{};b.method="GET";return n(a,b)};n.post=function(a,b){b=b||{};b.method="POST";return n(a,b)};n.load=function(a,b,c){c=c||{};l(b)||(c=b);c.dataType="fragment";return n(b,c).done(function(b){if(c.replace)for(;a.firstChild;)a.removeChild(a.firstChild);
a.appendChild(b)})};n.loadScript=function(a){return n(a,{transport:"script"})};n.submit=function(a,b){b=b||{};b.form=a;return n(null,b)};var P=function(a,b,c){var d;if(!(window.XMLHttpRequest&&(d=new XMLHttpRequest)||(d=new ActiveXObject("Msxml2.XMLHTTP"))||(d=new ActiveXObject("Microsoft.XMLHTTP"))))throw"Unable to create XHR object";this._xhr=d;this._deferred=b;this._opt=a;this._ajax=c;a.progress&&N(d,"progress",k(a.progress,a.callbackScope));a.uploadProgress&&d.upload&&N(d.upload,"progress",k(a.uploadProgress,
a.callbackScope));try{var e;if(a.xhrFields)for(e in a.xhrFields)d[e]=a.xhrFields[e];a.data&&a.contentType&&d.setRequestHeader("Content-Type",a.contentType);d.setRequestHeader("X-Requested-With","XMLHttpRequest");d.setRequestHeader("Accept",a.dataType&&E[a.dataType]?E[a.dataType]+", */*; q=0.01":E._default);for(e in a.headers)d.setRequestHeader(e,a.headers[e])}catch(h){}d.onreadystatechange=k(this.onReadyStateChange,this)};P.prototype={_xhr:null,_deferred:null,_ajax:null,onReadyStateChange:function(){var a=
this._xhr,b=this._deferred;if(0===a.readyState)a.onreadystatechange=O,b.resolve(a);else if(4===a.readyState){a.onreadystatechange=O;var c;a:{try{c=!a.status&&!u(location)&&"file:"==location.protocol||200<=a.status&&300>a.status||304===a.status||1223===a.status;break a}catch(d){}c=!1}c?this._ajax.processResponse(l(a.responseText)?a.responseText:void 0,a.getResponseHeader("content-type")||""):b.reject(a)}},abort:function(){this._xhr.onreadystatechange=O;this._xhr.abort()},send:function(){var a=this._opt;
try{this._xhr.open(a.method,a.url,!0,a.username,a.password),this._xhr.send(a.data)}catch(b){this._deferred.reject(b)}},destroy:function(){delete this._xhr;delete this._deferred;delete this._opt;delete this._ajax}};var x=function(a,b,c){this._opt=a;this._ajax=c;this._deferred=b};x.prototype={_opt:null,_deferred:null,_ajax:null,_el:null,send:function(){var a=document.createElement("script");a.setAttribute("async","async");a.setAttribute("charset","utf-8");a.setAttribute("src",this._opt.url);N(a,"load",
k(this.onLoad,this));N(a,"error",k(this.onError,this));document.head.appendChild(a);this._el=a},onLoad:function(a){this._deferred&&this._deferred.resolve(a)},onError:function(a){this._deferred.reject(a)},abort:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el)},destroy:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el);delete this._el;delete this._opt;delete this._ajax;delete this._deferred}};var Y=function(a,b,c){this._opt=a;this._ajax=c;this._deferred=
b};Y.prototype={_opt:null,_deferred:null,_ajax:null,_el:null,send:function(){var a=document.createElement("iframe"),b="frame-"+ ++D,c=this._opt.form;a.setAttribute("id",b);a.setAttribute("name",b);a.style.display="none";document.body.appendChild(a);c.setAttribute("action",this._opt.url);c.setAttribute("target",b);N(a,"load",k(this.onLoad,this));N(a,"error",k(this.onError,this));this._el=a;try{c.submit()}catch(d){this._deferred.reject(d)}},onLoad:function(){var a=this._el;this._opt&&!this._opt.jsonp&&
(a=a.contentDocument||a.contentWindow.document,a=a.body.innerHTML,this._ajax.processResponse(a))},onError:function(a){this._deferred.reject(a)},abort:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el)},destroy:function(){this._el.parentNode&&this._el.parentNode.removeChild(this._el);delete this._el;delete this._opt;delete this._ajax;delete this._deferred}};return n}();E.ajax=ia;"undefined"!=typeof global?global.MetaphorJs=E:window.MetaphorJs=E})();
